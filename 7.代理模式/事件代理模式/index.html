<!--
 * @Author: cain 826292460@qq.com
 * @Date: 2023-02-20 23:49:30
 * @LastEditors: cain 826292460@qq.com
 * @LastEditTime: 2023-02-20 23:52:28
 * @FilePath: /designPattern/7.代理模式/事件代理模式/index.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件代理</title>
</head>
<body>
    <div id="father">
        <a href="#">链接1号</a>
        <a href="#">链接2号</a>
        <a href="#">链接3号</a>
        <a href="#">链接4号</a>
        <a href="#">链接5号</a>
    </div>
    <script>
        // 常规不使用事件代理，会有事情冒泡的情况，需要绑定多个点击事件
        const aNode = document.getElementById('father').getElementsByTagName('a')
        const aLength = aNode.length
        for(let i = 0; i<aLength;i++) {
            aNode[i].addEventListener('click', function(e){
                e.preventDefault()
                alert(`我是${aNodes[i].innerText}`)
            })
        }
        // 采用代理模式(这里由父级一次绑定即可，从很大程度上提高我们代码的性能)
        const father = document.getElementById('father')
        father.addEventListener('click', function(e){
            // 识别是否是目标子元素
            if(e.target.tagName === 'A') {
                e.preventDefault()
                alert(`我是${aNodes[i].innerText}`)
            }
        })
    </script>
</body>
</html>